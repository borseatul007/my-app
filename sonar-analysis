node {
    // demo
    stage('SCM Checkout') {
        git 'https://github.com/borseatul007/my-app'
    }
    
    
    stage('Build') {
        sh 'npm run build'
    }
    
    stage('SonarQube Analysis') {
        withSonarQubeEnv('sonar-qube') {
            // Run the SonarScanner for JavaScript
            sh 'sonar-scanner'
        }
    }
    
    stage('Email Notification') {
        mail bcc: '',
            body: '''Hi Welcome to Jenkins email alerts
                    Thanks
                    Hari''',
            cc: '',
            from: '',
            replyTo: '',
            subject: 'Jenkins Job',
            to: 'borseatul007@gmail.com'
    }
    
    stage('Slack Notification') {
        slackSend baseUrl: 'https://hooks.slack.com/services/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',
            channel: '#jenkins-pipeline-demo',
            color: 'good',
            message: 'Welcome to Jenkins, Slack!',
            teamDomain: 'javahomecloud',
            tokenCredentialId: 'slack-demo'
    }
}
